<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Practice 2 &mdash; Duke NGS Course (Summer 2015) 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Duke NGS Course (Summer 2015) 1.0 documentation" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Duke NGS Course (Summer 2015)</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="VMsAtDuke.html">How to Claim and Access Your Virtual Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="BasicRinJupyterAndRstudio.html">Basic R in the Jupyter Notebook and RStudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="IntroductionToR.html">Introduction to R</a></li>
<li class="toctree-l1"><a class="reference internal" href="PreparingDataForAnalysis.html">Preparing Data for Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="WorkingWithData.html">Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="GroupingandAggregation.html">Grouping and Aggregation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Hypothesistestingandpowercalcuations.html">Hypothesis Testing and Power Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Probabilitydistributionsandrandomnumbergeneration.html">Probability distributions and Random Number Genereation</a></li>
<li class="toctree-l1"><a class="reference internal" href="WritingcustomfunctionsinRSolutions.html">Writing Custom Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="FunctionalProgramming.html">Functional Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="RFormulasAndStatisticalModeling.html">Linear Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="SupervisedLearning.html">Using R for supervised learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="UnsupervisedLearning.html">Unsupervised Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="UnsupervisedLearningAndNGS.html">Unsupervised Learning and NGS</a></li>
<li class="toctree-l1"><a class="reference internal" href="MultipleTesting.html">Multiple Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="CountModels.html">Counting Models/Discrete Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="LogisticRegression.html">Generalized Linear Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstallPackages.html">Installing Graphics Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="BaseGraphics.html">Base Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="MiscGraphics.html">Plotting Graphcs and Heatmpas</a></li>
<li class="toctree-l1"><a class="reference internal" href="BaseGraphicsGGPlotComparison.html">Introdcution to <code class="docutils literal"><span class="pre">ggplot2</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="GGPlot2Graphics.html">More <code class="docutils literal"><span class="pre">ggplot2</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="PracticeONESolutios.html">Coding Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="DESeq2Notebook.html">Introduction to DESeq2</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installing R, RStudio and IPython notebook with the R kernel</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Practice 2</a><ul>
<li><a class="reference internal" href="#working-with-dataframes">Working with dataframes</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/PracticeTWOSolutions.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="practice-2">
<h1>Practice 2<a class="headerlink" href="#practice-2" title="Permalink to this headline">¶</a></h1>
<div class="section" id="working-with-dataframes">
<h2>Working with dataframes<a class="headerlink" href="#working-with-dataframes" title="Permalink to this headline">¶</a></h2>
<p>Practice TWO is meant to help you get comfortable working with data
frames, and the basic ways you can slice and dice datafrmaes.</p>
<ol class="arabic simple">
<li>How many rows and columns are there in the <code class="docutils literal"><span class="pre">mtcars</span></code> dataframe?</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="n">nrow</span><span class="p">(</span><span class="n">mtcars</span><span class="p">))</span>
<span class="p">(</span><span class="n">ncol</span><span class="p">(</span><span class="n">mtcars</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[1] 32
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[1] 11
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">dim</span><span class="p">(</span><span class="n">mtcars</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[1] 32 11
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Show the last 6 rows of <code class="docutils literal"><span class="pre">mtcars</span></code>.</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">tail</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>                mpg cyl  disp  hp drat    wt qsec vs am gear carb
Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.7  0  1    5    2
Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.9  1  1    5    2
Ford Pantera L 15.8   8 351.0 264 4.22 3.170 14.5  0  1    5    4
Ferrari Dino   19.7   6 145.0 175 3.62 2.770 15.5  0  1    5    6
Maserati Bora  15.0   8 301.0 335 3.54 3.570 14.6  0  1    5    8
Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.6  1  1    4    2
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>Show 6 rows at random (no duplicates) from <code class="docutils literal"><span class="pre">mtcars</span></code></li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre>ridx &lt;- sample(1:nrow(mtcars), 6, replace=FALSE)
mtcars[ridx,]
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>               mpg cyl  disp  hp drat    wt  qsec vs am gear carb
Toyota Corona 21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
Camaro Z28    13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
Valiant       18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
Merc 280C     17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
Fiat 128      32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
AMC Javelin   15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>Display information only for the subset of cars with automatic
transmission.</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre>mtcars[mtcars$am == 1,]
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>                mpg cyl  disp  hp drat    wt  qsec vs am gear carb
Mazda RX4      21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
Datsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
Fiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
Honda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
Toyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
Fiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
Ford Pantera L 15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
Ferrari Dino   19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
Maserati Bora  15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>Display information only for the subset of cars with weight between
2 and 3.</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre>mtcars[(2 &lt; mtcars$wt) &amp; (mtcars$wt &lt; 3),]
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>               mpg cyl  disp  hp drat    wt  qsec vs am gear carb
Mazda RX4     21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag 21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
Datsun 710    22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
Fiat 128      32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
Toyota Corona 21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
Porsche 914-2 26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
Ferrari Dino  19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
Volvo 142E    21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li>What is the mean weight of all cars?</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre>mean(mtcars$wt)
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[1] 3.21725
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre>(7) What is the mean weight of cars wtih `mpg` greater than 20?
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre>mean(mtcars[mtcars$mpg &gt; 20, &quot;wt&quot;])
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[1] 2.418071
</pre></div>
</div>
<ol class="arabic simple" start="8">
<li>Add a column <code class="docutils literal"><span class="pre">kpl</span></code> showing the number of kilometers per liter (1
mile = 1.609344 kilometers, and 1 gallon = 3.78541178 liters)</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre>mpg.to.kpl &lt;- function(mpg) {
    return(mpg * 1.609344 / 3.78541178)
}
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre>mtcars$kpl &lt;- mpg.to.kpl(mtcars$mpg)
head(mtcars)
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>                   mpg cyl disp  hp drat    wt  qsec vs am gear carb      kpl
Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4 8.928018
Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4 8.928018
Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1 9.693277
Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1 9.098075
Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2 7.950187
Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1 7.695101
</pre></div>
</div>
<ol class="arabic simple" start="9">
<li>Make a new dataframe <code class="docutils literal"><span class="pre">mtcars.1</span></code> with only the <code class="docutils literal"><span class="pre">mpg</span></code> and <code class="docutils literal"><span class="pre">kpl</span></code>
columns.</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre>mtcars.1 &lt;- mtcars[, c(&quot;mpg&quot;, &quot;kpl&quot;)]
head(mtcars.1)
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>                   mpg      kpl
Mazda RX4         21.0 8.928018
Mazda RX4 Wag     21.0 8.928018
Datsun 710        22.8 9.693277
Hornet 4 Drive    21.4 9.098075
Hornet Sportabout 18.7 7.950187
Valiant           18.1 7.695101
</pre></div>
</div>
<ol class="arabic simple" start="10">
<li>Perform a linear regression model of <code class="docutils literal"><span class="pre">mpg</span></code> against <code class="docutils literal"><span class="pre">wt</span></code>. Plot
the model fit.</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre>fit &lt;- lm(mpg ~ wt, data=mtcars)
summary(fit)
</pre></div>
</div>
<pre class="literal-block">
Call:
lm(formula = mpg ~ wt, data = mtcars)

Residuals:
    Min      1Q  Median      3Q     Max
-4.5432 -2.3647 -0.1252  1.4096  6.8727

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)  37.2851     1.8776  19.858  &lt; 2e-16 <strong>*
wt           -5.3445     0.5591  -9.559 1.29e-10 *</strong>
---
Signif. codes:  0 ‘<strong>*’ 0.001 ‘</strong>’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 3.046 on 30 degrees of freedom
Multiple R-squared:  0.7528,        Adjusted R-squared:  0.7446
F-statistic: 91.38 on 1 and 30 DF,  p-value: 1.294e-10
</pre>
<div class="code python highlight-python"><div class="highlight"><pre>plot(mtcars$wt, mtcars$mpg, col=rgb(0,0,1,0.5), pch=16, cex=2.0,
    xlab=&quot;Weigth&quot;, ylab=&quot;Miles per gallon&quot;,
     main=&quot;Linear regression of MPG against wt&quot;)
abline(fit, col=&quot;red&quot;, lwd=2)
</pre></div>
</div>
<img alt="_images/PracticeTWOSolutions_24_0.png" src="_images/PracticeTWOSolutions_24_0.png" />
<ol class="arabic simple" start="11">
<li>Print 10 rows at ranodm from the <code class="docutils literal"><span class="pre">iris</span></code> dataframe</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre>ridx &lt;- sample(1:nrow(iris), 10, replace = FALSE)
iris[ridx,]
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
136          7.7         3.0          6.1         2.3  virginica
10           4.9         3.1          1.5         0.1     setosa
29           5.2         3.4          1.4         0.2     setosa
80           5.7         2.6          3.5         1.0 versicolor
54           5.5         2.3          4.0         1.3 versicolor
11           5.4         3.7          1.5         0.2     setosa
58           4.9         2.4          3.3         1.0 versicolor
56           5.7         2.8          4.5         1.3 versicolor
150          5.9         3.0          5.1         1.8  virginica
59           6.6         2.9          4.6         1.3 versicolor
</pre></div>
</div>
<ol class="arabic simple" start="12">
<li>Find the mean Sepal.Length Sepal.Width Petal.Length Petal.Width for
each iris species using the <code class="docutils literal"><span class="pre">aggregate</span></code> command.</li>
</ol>
<div class="code python highlight-python"><div class="highlight"><pre>aggregate(iris[,1:4], by=list(iris$Species), FUN=mean)
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>     Group.1 Sepal.Length Sepal.Width Petal.Length Petal.Width
1     setosa        5.006       3.428        1.462       0.246
2 versicolor        5.936       2.770        4.260       1.326
3  virginica        6.588       2.974        5.552       2.026
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright Public Domain.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>